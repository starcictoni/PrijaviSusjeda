@page "/prijavisusjeda"
@inject NavigationManager NavigationManager
@using PrijaviSusjeda.Data

<div class="container">
    <div class="row mt-5 mb-5">
        <div class="col-2"></div>
        <div class="col-8">
            <div class="card pl-5 pr-5 pt-5 pb-5">
                <EditForm Model="@_person" OnValidSubmit="HandleValidSubmit">
                    <DataAnnotationsValidator/>
                    <ValidationSummary/>
                    <div class="form-group pt-3">
                        <label for="ime">Ime</label>
                        <InputText id="ime" class="form-control" @bind-Value="_person.Ime"/>
                    </div>
                    <div class="form-group">
                        <label for="prezime">Prezime</label>
                        <InputText type="text" class="form-control" id="prezime" @bind-Value="_person.Prezime"/>
                    </div>
                    <div class="form-group">
                        <label for="adresa">Adresa</label>
                        <InputText type="text" class="form-control" id="adresa" @bind-Value="_person.Adresa"/>
                    </div>
                    <div class="form-group">
                        <label for="grad">Grad</label>
                        <InputText type="text" class="form-control" id="grad" @bind-Value="_person.Grad"/>
                    </div>
                    <div class="form-group">
                        <label for="postanskibroj">Poštanski broj</label>
                        <InputText type="text" class="form-control" id="postanskibroj" @bind-Value="_person.PostanskiBroj"/>
                    </div>
                    <div class="form-group">
                        <label for="zupanija">Županija</label>
                        <InputText type="text" class="form-control" id="zupanija" @bind-Value="_person.Zupanija"/>
                    </div>
                    <div class="form-group">
                        <label for="brojnoge">Broj noge</label>
                        <InputNumber type="int" class="form-control" id="brojnoge" @bind-Value="_person.BrojNoge"/>
                    </div>
                    <div class="form-group form-check pl-4 pt-4">
                        <InputCheckbox type="checkbox" class="form-check-input" @bind-Value="_person.Rukavica" id="rukavica"/>
                        <label class="form-check-label" for="rukavica">Ne nosi rukavice</label>
                    </div>
                    <div class="form-group form-check pl-4">
                        <InputCheckbox type="checkbox" class="form-check-input" @bind-Value="_person.Ruka" id="ruke"/>
                        <label class="form-check-label" for="ruke">Ne pere ruke</label>
                    </div>
                    <div class="form-group form-check pl-4">
                        <InputCheckbox type="checkbox" class="form-check-input" @bind-Value="_person.Maska" id="maska"/>
                        <label class="form-check-label" for="maska">Ne nosi masku</label>
                    </div>
                    <div class="form-group form-check pl-4">
                        <InputCheckbox type="checkbox" class="form-check-input" @bind-Value="_person.Distanca" id="distanca"/>
                        <label class="form-check-label" for="distanca">Ne drži distancu</label>
                    </div>
                    <div class="form-group form-check pl-4">
                        <InputCheckbox type="checkbox" class="form-check-input" @bind-Value="_person.Kaslje" id="kaslje"/>
                        <label class="form-check-label" for="kaslje">Kašlje</label>
                    </div>
                    <div class="form-group form-check pl-4">
                        <InputCheckbox type="checkbox" class="form-check-input" @bind-Value="_person.Blid" id="blid"/>
                        <label class="form-check-label" for="blid">Malo mi je blid</label>
                    </div>
                    <div class="form-group form-check pl-4 pb-4">
                        <InputCheckbox type="checkbox" class="form-check-input"@bind-Value="_person.Samoizolacija" id="samoizolacija"/>
                        <label class="form-check-label" for="samoizolacija">San čuja da bi triba bit u samoizolaciji</label>
                    </div>
                    <div class="form-group pb-3">
                        <label for="opis">Opis</label>
                        <textarea class="form-control" id="opis" rows="3"></textarea>
                    </div>
                    <div class=""></div>
                    <button type="submit" @onclick="_person.Kalkuliraj" class="btn btn-outline-dark float-right">Šu prijavi ga</button>
                </EditForm>
            </div>
        </div>
    </div>
    <div class="col-2"></div>
</div>

@code {
    private Person _person = new Person();
    People people = new People();
    private void HandleValidSubmit()
    {
        Console.WriteLine("Forma je ok.");
        people.AddPerson(_person);
        NavigationManager.NavigateTo("/hitlist");
    }
}